# 7주차 학습 내용

## JPA 개념
### JPA와 JDBC의 차이란?
1. JDBC는 수동조작, JPA는 자동화된 시스템
2. JDBC에서는 직접 SQL을 짜야하지만, JPA는 객체 메소드로 처리하므로 더 직관적이고 객체지향적
3. JDBC는 작은 기능 하나를 만들려면 수많은 준비코드가 필요하지만, JPA는 간단한 CRUD 메소드 한 줄로 끝낼 수 있다.
4.  트랜잭션, 연결관리, 예외처리까지 JDBC는 직접 관리하지만, JPA는 알아서 해줌
---
### ORM이란 무엇이고 JPA가 ORM 프레임워크에서 어떤 역할을 하는지
- ORM(Object Relationship Mapping) 은 *객체를 연결을 해준다* 는 의미로, 어플리케이션과 데이터베이스 연결 시 SQL언어가
아닌 어플리케이션 개발언어로 데이터베이스를 접근할 수 있게 해주는 툴입니다. 

**JPA가 ORM 프레임워크에서 어떤 역할을 하는가?**
1. 자바 객체와 DB테이블을 연결하는 방법을 사용
2. 데이터 CRUD를 객체 방식으로 처리할 수 있게 해줌
3. 트랜잭션, 캐시, 지연 로딩 같은 고급 기능의 기반을 제공
---
## 엔티티
### 엔티티 필수 어노테이션의 종류는?
- @Entity : JPA를 사용해서 테이블과 매핑할 클래스에 붙여주는 어노테이션
- @Table : 엔티티와 매핑할 테이블 지정
- @id : 특정 속성을 기본키로 설정하는 어노테이션
- @Column : 객체 필드를 테이블 컬럼과 매칭
- @Access : JPA가 엔티티 데이터에 접근하는 방식 지정
- @Enumerated : 자바 enum 타입을 매핑할 때 사용
- @Temporal : 날짜 타입을 매핑할 때 사용
- @Lob : DB DLOB, CLOB 타입과 매핑 
- @Transient : DB에 저장하지도 조회하지도 않음(객체에 임시로 값을 보관하고 싶을 때 사용)
---
### JPA에서 엔티티의 필수 조건은?
1. @Entity 어노테이션 : JPA가 해당 클래스를 엔티티로 인식하기 위해서 필수적으로 붙여야함
2. 기본생성자 : 엔티티를 영속성 컨텍스트로 관리하기 위해서 기본생성자가 필요함
3. final, enum, interface, inner 클래스 제외 : 이러한 클래스는 엔티티로 사용불가
4. @id 어노테이션 : 엔티티의 식별자 필드를 지정해야함, 데이터베이스의 primary key 와 매핑
5. @Column 어노테이션 : 엔티티 필드를 데이터베이스 컬럼에 매핑할 때 사용하며, 필요에 따라 컬럼의 길이, null 허용 여부 등을 설정
---
### 엔티티의 생명주기란?
엔티티의 생명주기는 아래 4가지 단계를 가질 수 있다. 
- **비영속** : 영속성 컨텍스트와 전혀 관계가 없는 상태
- **영속** : 영속성 컨텍스트가 저장된 상태
- **준영속** : 영속성 컨텍스트에 저장되었다가 분리된 상태
- **삭제** : 삭제된 상태
---
## 영속성 컨텍스트
### 영속성 컨텍스트 상태의 종류는?
영속성 컨텍스트의 상태
1. 비영속 : 아직 저장안됨, JPA 관리가 되지 않는 상태
2. 영속 : 컨텍스트에 저장됨, JPA가 관리함
3. 준영속 : 원래 저장되어있었는데 관리가 중단됨
4. 삭제 : 삭제 요청됨, 커밋시 DB에서도 제거됨

영속성 컨텍스트의 종류
- 트랜잭션 범위 : 기본방식, 트랜잭션이 시작되면 끝날 때까지 유효한 컨텍스트(Spring + JPA에서 주로 사용)
- 확장 범위 : 하나의 트랜잭션 범위를 넘어 계속 유지되는 컨텍스트(stateful bean / 대화형 애플리케이션에서 주로 사용)
---
## 연간관계
### 연간관계의 종류와 JPA에서의 표현법은?
1. 일대일(1:1) -> 한 엔티티가 다른 엔티티와 1:1로 대응되는 관계(@OneToOne)
2. 다대일(N:1) -> 여러 개의 엔티티가 하나의 엔티티를 참조하는 관계(@ManyToOne)
3. 일대다(1:N) -> 하나의 엔티티가 여러 엔티티를 참조하는 관계(@OneToMany)
4. 다대다(N:M) -> 여러 개가 서로 여러 개를 참조하는 관계(@ManyToMany)
